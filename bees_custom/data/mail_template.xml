<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- Mail template are declared in a NOUPDATE block
         so users can freely customize/delete them -->
    <data noupdate="0">
        <record id="mail_template_incorrect_delivery" model="mail.template">
            <field name="name">Incorrect Delivery</field>
            <field name="email_from">
                ${ctx.get('company').email|safe}
            </field>
            <field name="subject">Incorrect Delivery (${object.name})</field>
            <field name="partner_to">${ctx.get('company').email|safe}</field>
            <field name="reply_to">${ctx.get('company').email|safe}</field>
            <field name="model_id" ref="model_stock_picking" />
            <field name="auto_delete" eval="True" />
            <field name="lang">${ctx.get("lang")}</field>
            <field
                name="body_html"
            ><![CDATA[
<div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">

    <p>Hello</p>


    % if object.zero_received_move_ids:
    <p>Zero</p>
    <ul>
        % for move in object.zero_received_move_ids:
            <li>${move.name} - ${move.quantity_done} / ${move.product_qty}
        % endfor
    </ul>
    % endif

    % if object.too_few_received_move_ids:
    <p>Too few</p>
    <ul>
        % for move in object.too_few_received_move_ids:
            <li>${move.name} - ${move.quantity_done} / ${move.product_qty}
        % endfor
    </ul>
    % endif

    % if object.too_many_received_move_ids:
    <p>Too many</p>
    <ul>
        % for move in object.too_many_received_move_ids:
            <li>${move.name} - ${move.quantity_done} / ${move.product_qty}
        % endfor
    </ul>
    % endif

    <p>Goodbye.</p>

</div>
            ]]></field>
        </record>
    </data>
</odoo>
