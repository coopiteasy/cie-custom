<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="report_invoice_document" inherit_id="account.report_invoice_document">
        <!-- Normally I'd use `//p[@t-if='o.reference']`, but it conflicts with account_invoice_pos_already_paid -->
        <xpath expr="//span[@t-field='o.reference']/../.." position="attributes">
            <!-- Ugly custom fix. If invoice reference starts with 'Shop', it's a POS order. -->
            <attribute
                name="t-if"
            >o.reference and "shop" not in o.reference.lower()</attribute>
        </xpath>
    </template>

</odoo>
